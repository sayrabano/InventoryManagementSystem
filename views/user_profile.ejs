<!DOCTYPE html>
<head>
    
    <title><%=title%></title>
    <!-- CSS only -->
<link href="../css/user_profile.css" rel="stylesheet">
<!-- Font Awesome CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

   <!-- DataTables CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- DataTables JavaScript -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>

  </head>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-12">
      <div class="table-responsive">
        <% if(items.length>0){ %>
          <table id="itemTable" class="table table-striped text-center mt-5">
            <thead>
              <tr class="table-dark">
                
                <th>Thumbnail</th>

                <th>Name</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Brand</th>
                <th>Supplier</th>
                <th>Category</th>
                <th>Description</th>
                <th>Action</th>
  
              </tr>
            </thead>
            <tbody>
              <%
              items.forEach((row,index)=>{%>
                <tr>
                  
                  <td><img src="<%= row.itemdetails.image%>"  class="img-thumbnail" style="width:25px"/></td>
                  <td><%= row.name%></td>
                    <td><%= row.price %></td>
                    <td><%= row.quantity %></td>
                    <td><%= row.itemdetails.brand %></td>
                    <td><%= row.itemdetails.supplierinfo %></td>
                    <td><%= row.itemdetails && row.itemdetails.itemcategory && row.itemdetails.itemcategory.category %></td>
                    <td><%= row.itemdetails.description %></td>
              <td>
                <div class="form-outline">
                  <a href="/delete/<%=row._id%>" class="btn btn-danger">
                    <i class="fas fa-trash"></i> Delete
                  </a>
                  <a href="/updateItem/<%=row._id%>" class="btn btn-warning">
                    <i class="fas fa-edit"></i> Update
                  </a>
                </div>
              </td>
              </tr>
             <% })
               %>
            </tbody>
          </table>
        <%}else {%>
          <h1>No item to display here.. </h1>
          <button
          type="submit"
          class="btn btn-secondary  mb-4"
          
        >
          <a href="/additem" id="addbtn">Add Item</a>
        </button>
          <%}%>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $('#itemTable').DataTable({
      "paging": true,   // Enable pagination
      "ordering": true, // Enable sorting
      "searching": true // Enable searching
    });
  });
</script>
</html>